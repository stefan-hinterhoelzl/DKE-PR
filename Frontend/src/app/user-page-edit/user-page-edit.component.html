<div class="main-wrapper" fxLayout="column" fxLayoutAlign="space-between center">

    <div>
        <h3 style = "margin-bottom: 0px">Profil:</h3>
        Name: {{user.firstname}} {{user.lastname}} <br>
        Email: {{user.email}} <br>
        Telefonnumer: {{user.phonenumber}} <br>

    </div>

    <div style = "margin-top: 7%;">

        <div class = "main-wrapper" fxLayout="row" fxLayoutAlign="start start">


            <div style = "margin-right: 3%;">
                <h4>Name und Telefonnummer ändern:</h4>
                <form class="example-form" [formGroup] = "dataform">
                    <mat-form-field class="example-full-width">
                    <input matInput placeholder="Vorname" type = "text" [formControl] = "firstname" required>
                    <mat-error *ngIf="firstname.invalid">{{getErrorMessage()}}</mat-error>
                    </mat-form-field>
            
                    <mat-form-field class="example-full-width">
                    <input matInput placeholder="Nachname" type = "text" [formControl] = "lastname" required>
                    <mat-error *ngIf="lastname.invalid">{{getErrorMessage()}}</mat-error>
                    </mat-form-field>
                    <mat-form-field class="example-full-width">
                    <input matInput placeholder="Telefonnummer" type = "text" [formControl] = "phonenumber">
                    </mat-form-field>
                
                    <button style="margin-top: 2%;" mat-stroked-button color="primary" [disabled] = "!dataform.valid" (click) = "updateUserData()" class="btn-block">Speichern</button>
                </form>
            </div>
            <div style = "margin-left: 3%;">
                <h4>Passwort ändern:</h4>
                <form class="example-form" [formGroup] = "pwform">
                    <mat-form-field class="example-full-width">
                    <input matInput placeholder="Aktuelles Passwort" type = "password" [formControl] = "oldpw" required>
                    <mat-error *ngIf="oldpw.invalid">{{getErrorMessage()}}</mat-error>
                    </mat-form-field>
            
                    <mat-form-field class="example-full-width">
                    <input matInput placeholder="Neues Passwort" type = "password" [formControl] = "newpw" required>
                    <mat-error *ngIf="newpw.invalid">{{getErrorMessage()}}</mat-error>
                    </mat-form-field>
                    <mat-form-field class="example-full-width">
                    <input matInput placeholder="Neues Passwort bestätigen" type = "password" [formControl] = "newpwconfirm" [errorStateMatcher]="matcher">
                    <mat-error *ngIf="pwform.hasError('notSame')">Passwörter stimmen nicht überein</mat-error>
                    </mat-form-field>
                
                    <button style="margin-top: 2%;" mat-stroked-button color="primary" [disabled] = "!pwform.valid" (click) = "updateUserPassword()" class="btn-block">Speichern</button>
                </form>
            </div>
        </div>
    </div>

    <div style = "margin-bottom: 10%; margin-top: 20%;">
        <button mat-button mat-raised-button (click) = "reallydelete = true">Dieses Profil löschen</button>
    </div>

    <div *ngIf = "reallydelete">
        Das Profil kann nicht wieder hergestellt werden! <br>
        Wirklich löschen?
        <div style = "margin-top: 5%;" fxLayout="row" fxLayoutAlign="space-evenly center">
            <div>
                <button mat-button mat-raised-button color="primary" (click) = "deleteUser()">Ja</button>
            </div>
            <div>
                <button mat-button mat-raised-button color = "accent" (click) = "reallydelete = false">Nein</button>
            </div>

        </div>


    </div>
        

</div>
